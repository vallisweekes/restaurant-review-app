(this["webpackJsonprestaurant-review-project"]=this["webpackJsonprestaurant-review-project"]||[]).push([[0],{132:function(e){e.exports=JSON.parse('{"results":[{"id":"1Dr456gh63","location":{"lat":51.594087,"lng":-0.106523},"name":"Bronco","photos":"https://vallisweekes.com/portfolio/assests/bronco.jpg","placeId":100001,"phoneNumber":"020 8173 7687","opening_hours":{"periods":[{"close":{"day":0,"time":"2200"},"open":{"day":0,"time":"1200"}},{"close":{"day":1,"time":"2200"},"open":{"day":1,"time":"1000"}},{"close":{"day":2,"time":"2200"},"open":{"day":2,"time":"1000"}},{"close":{"day":3,"time":"2200"},"open":{"day":3,"time":"1000"}},{"close":{"day":4,"time":"2200"},"open":{"day":4,"time":"1000"}},{"close":{"day":5,"time":"2200"},"open":{"day":5,"time":"1000"}},{"close":{"day":6,"time":"2200"},"open":{"day":6,"time":"1000"}}],"weekday_text":["Monday: 10:00 AM \u2013 10:00 PM","Tuesday: 10:00 AM \u2013 10:00 PM","Wednesday: 10:00 AM \u2013 10:00 PM","Thursday: 10:00 AM \u2013 10:00 PM","Friday: 10:00 AM \u2013 10:00 PM","Saturday: 10:00 AM \u2013 10:00 PM"]},"rating":4,"reviews":[{"author_name":"Fabian Rodrigues","profile_photo_url":"https://lh4.ggpht.com/-HsVBNe3dMYo/AAAAAAAAAAI/AAAAAAAAAAA/HhOGpqoAXKg/s128-c0x00000000-cc-rp-mo-ba4/photo.jpg","rating":5,"relative_time_description":"a month ago","text":"Used to eat here regularly before I left wood green 15+ years ago.\\nToday I came home to visit my parents and had to eat here.... It\'s bigger, better and tastier than before\\nStaff make you feel just at home... Super friendly","time":1566663415},{"author_name":"Fabian Rodrigues","profile_photo_url":"https://lh4.ggpht.com/-HsVBNe3dMYo/AAAAAAAAAAI/AAAAAAAAAAA/HhOGpqoAXKg/s128-c0x00000000-cc-rp-mo-ba4/photo.jpg","rating":5,"relative_time_description":"a month ago","text":"Used to eat here regularly before I left wood green 15+ years ago.\\nToday I came home to visit my parents and had to eat here.... It\'s bigger, better and tastier than before\\nStaff make you feel just at home... Super friendly","time":1566663415}],"website":"http://www.vallisweekes.com","totalRatings":70,"status":"OK","address":"39 Noel Park Road, Wood Green, London, N22 6ED","favourite":true},{"id":"1Dr45ff6ghy63","location":{"lat":51.596068,"lng":-0.10855},"phoneNumber":"020 8892 3456","name":"Babalou","photos":"https://vallisweekes.com/portfolio/assests/babalou.jpg","placeId":100002,"opening_hours":{"periods":[{"close":{"day":0,"time":"2200"},"open":{"day":0,"time":"1200"}},{"close":{"day":1,"time":"2200"},"open":{"day":1,"time":"1000"}},{"close":{"day":2,"time":"2200"},"open":{"day":2,"time":"1000"}},{"close":{"day":3,"time":"2200"},"open":{"day":3,"time":"1000"}},{"close":{"day":4,"time":"2200"},"open":{"day":4,"time":"1000"}},{"close":{"day":5,"time":"2200"},"open":{"day":5,"time":"1000"}},{"close":{"day":6,"time":"2200"},"open":{"day":6,"time":"1000"}}],"weekday_text":["Monday: 10:00 AM \u2013 10:00 PM","Tuesday: 10:00 AM \u2013 10:00 PM","Wednesday: 10:00 AM \u2013 10:00 PM","Thursday: 10:00 AM \u2013 10:00 PM","Friday: 10:00 AM \u2013 10:00 PM","Saturday: 10:00 AM \u2013 10:00 PM","Sunday: 12:00 \u2013 10:00 PM"]},"rating":4,"reviews":[{"author_name":"Fabian Rodrigues","profile_photo_url":"https://lh4.ggpht.com/-HsVBNe3dMYo/AAAAAAAAAAI/AAAAAAAAAAA/HhOGpqoAXKg/s128-c0x00000000-cc-rp-mo-ba4/photo.jpg","rating":5,"relative_time_description":"a month ago","text":"Used to eat here regularly before I left wood green 15+ years ago.\\nToday I came home to visit my parents and had to eat here.... It\'s bigger, better and tastier than before\\nStaff make you feel just at home... Super friendly","time":1566663415}],"website":"http://www.vallisweekes.com","totalRatings":70,"status":"Good","address":"4 Gladstone Avenue, London, N22 6JU","favourite":true},{"id":"1Dr456ghyERT","location":{"lat":51.596062,"lng":-0.108243},"phoneNumber":"020 8876 8765","name":"Grilled","photos":"https://vallisweekes.com/portfolio/assests/grilled.jpg","placeId":100003,"opening_hours":{"periods":[{"close":{"day":0,"time":"2200"},"open":{"day":0,"time":"1200"}},{"close":{"day":1,"time":"2200"},"open":{"day":1,"time":"1000"}},{"close":{"day":2,"time":"2200"},"open":{"day":2,"time":"1000"}},{"close":{"day":3,"time":"2200"},"open":{"day":3,"time":"1000"}},{"close":{"day":4,"time":"2200"},"open":{"day":4,"time":"1000"}},{"close":{"day":5,"time":"2200"},"open":{"day":5,"time":"1000"}},{"close":{"day":6,"time":"2200"},"open":{"day":6,"time":"1000"}}],"weekday_text":["Monday: 10:00 AM \u2013 10:00 PM","Tuesday: 10:00 AM \u2013 10:00 PM","Wednesday: 10:00 AM \u2013 10:00 PM","Thursday: 10:00 AM \u2013 10:00 PM","Friday: 10:00 AM \u2013 10:00 PM","Saturday: 10:00 AM \u2013 10:00 PM","Sunday: 12:00 \u2013 10:00 PM"]},"rating":4,"reviews":[{"author_name":"Fabian Rodrigues","profile_photo_url":"https://lh4.ggpht.com/-HsVBNe3dMYo/AAAAAAAAAAI/AAAAAAAAAAA/HhOGpqoAXKg/s128-c0x00000000-cc-rp-mo-ba4/photo.jpg","rating":5,"relative_time_description":"a month ago","text":"Used to eat here regularly before I left wood green 15+ years ago.\\nToday I came home to visit my parents and had to eat here.... It\'s bigger, better and tastier than before\\nStaff make you feel just at home... Super friendly","time":1566663415}],"website":"http://www.vallisweekes.com","totalRatings":70,"status":"Good","address":"19 Gladstone Avenue, London, N22 6JU","favourite":true},{"id":"1Dr456gdft3","location":{"lat":51.593558,"lng":-0.107552},"phoneNumber":"020 8009 8754","name":"La EATs","photos":"https://vallisweekes.com/portfolio/assests/La_EAts.jpg","placeId":100004,"opening_hours":{"periods":[{"close":{"day":0,"time":"2200"},"open":{"day":0,"time":"0700"}},{"close":{"day":1,"time":"2200"},"open":{"day":1,"time":"1000"}},{"close":{"day":2,"time":"2200"},"open":{"day":2,"time":"1000"}},{"close":{"day":3,"time":"2200"},"open":{"day":3,"time":"1000"}},{"close":{"day":4,"time":"2200"},"open":{"day":4,"time":"1000"}},{"close":{"day":5,"time":"2200"},"open":{"day":5,"time":"1000"}},{"close":{"day":6,"time":"2200"},"open":{"day":6,"time":"1000"}}],"weekday_text":["Monday: 10:00 AM \u2013 10:00 PM","Tuesday: 10:00 AM \u2013 10:00 PM","Wednesday: 10:00 AM \u2013 10:00 PM","Thursday: 10:00 AM \u2013 10:00 PM","Friday: 10:00 AM \u2013 10:00 PM","Saturday: 10:00 AM \u2013 10:00 PM","Sunday: 12:00 \u2013 10:00 PM"]},"rating":3,"reviews":[{"author_name":"Fabian Rodrigues","profile_photo_url":"https://lh4.ggpht.com/-HsVBNe3dMYo/AAAAAAAAAAI/AAAAAAAAAAA/HhOGpqoAXKg/s128-c0x00000000-cc-rp-mo-ba4/photo.jpg","rating":5,"relative_time_description":"a month ago","text":"Used to eat here regularly before I left wood green 15+ years ago.\\nToday I came home to visit my parents and had to eat here.... It\'s bigger, better and tastier than before\\nStaff make you feel just at home... Super friendly","time":1566663415}],"website":"http://www.vallisweekes.com","totalRatings":70,"status":"Ok","address":"22 High Road, London, N22 6EF","favourite":true},{"id":"1Dr456erdy63","location":{"lat":51.597517,"lng":-0.107774},"phoneNumber":"020 8357 7652","name":"Cappa","photos":"https://vallisweekes.com/portfolio/assests/cappa.jpg","placeId":100005,"opening_hours":{"open_now":true,"periods":[{"close":{"day":0,"time":"2200"},"open":{"day":0,"time":"1200"}},{"close":{"day":1,"time":"2200"},"open":{"day":1,"time":"1000"}},{"close":{"day":2,"time":"2200"},"open":{"day":2,"time":"1000"}},{"close":{"day":3,"time":"2200"},"open":{"day":3,"time":"1000"}},{"close":{"day":4,"time":"2200"},"open":{"day":4,"time":"1000"}},{"close":{"day":5,"time":"2200"},"open":{"day":5,"time":"1000"}},{"close":{"day":6,"time":"2200"},"open":{"day":6,"time":"1000"}}],"weekday_text":["Monday: 10:00 AM \u2013 10:00 PM","Tuesday: 10:00 AM \u2013 10:00 PM","Wednesday: 10:00 AM \u2013 10:00 PM","Thursday: 10:00 AM \u2013 10:00 PM","Friday: 10:00 AM \u2013 10:00 PM","Saturday: 10:00 AM \u2013 10:00 PM","Sunday: 12:00 \u2013 10:00 PM"]},"rating":3,"reviews":[{"author_name":"Fabian Rodrigues","profile_photo_url":"https://lh4.ggpht.com/-HsVBNe3dMYo/AAAAAAAAAAI/AAAAAAAAAAA/HhOGpqoAXKg/s128-c0x00000000-cc-rp-mo-ba4/photo.jpg","rating":5,"relative_time_description":"a month ago","text":"Used to eat here regularly before I left wood green 15+ years ago.\\nToday I came home to visit my parents and had to eat here.... It\'s bigger, better and tastier than before\\nStaff make you feel just at home... Super friendly","time":1566663415}],"website":"http://www.vallisweekes.com","totalRatings":70,"status":"Ok","address":"708 Lordship Lane, London, N22 5JN","favourite":true},{"id":"1Dr426ghhy63","location":{"lat":51.594146,"lng":-0.108318},"phoneNumber":"020 8365 9765","name":"Jerkys","photos":"https://vallisweekes.com/portfolio/assests/jerkys.jpg","placeId":100006,"opening_hours":{"periods":[{"close":{"day":0,"time":"2200"},"open":{"day":0,"time":"1200"}},{"close":{"day":1,"time":"2200"},"open":{"day":1,"time":"1000"}},{"close":{"day":2,"time":"2200"},"open":{"day":2,"time":"1000"}},{"close":{"day":3,"time":"2200"},"open":{"day":3,"time":"1000"}},{"close":{"day":4,"time":"2200"},"open":{"day":4,"time":"1000"}},{"close":{"day":5,"time":"2200"},"open":{"day":5,"time":"1000"}},{"close":{"day":6,"time":"2200"},"open":{"day":6,"time":"1000"}}],"weekday_text":["Monday: 10:00 AM \u2013 10:00 PM","Tuesday: 10:00 AM \u2013 10:00 PM","Wednesday: 10:00 AM \u2013 10:00 PM","Thursday: 10:00 AM \u2013 10:00 PM","Friday: 10:00 AM \u2013 10:00 PM","Saturday: 10:00 AM \u2013 10:00 PM","Sunday: 12:00 \u2013 10:00 PM"]},"rating":5,"reviews":[{"author_name":"Fabian Rodrigues","profile_photo_url":"https://lh4.ggpht.com/-HsVBNe3dMYo/AAAAAAAAAAI/AAAAAAAAAAA/HhOGpqoAXKg/s128-c0x00000000-cc-rp-mo-ba4/photo.jpg","rating":5,"relative_time_description":"a month ago","text":"Used to eat here regularly before I left wood green 15+ years ago.\\nToday I came home to visit my parents and had to eat here.... It\'s bigger, better and tastier than before\\nStaff make you feel just at home... Super friendly","time":1566663415}],"website":"http://www.vallisweekes.com","totalRatings":70,"status":"Execellent","address":"High Road, London Wood Green, N22 6AX"},{"id":"1DK87h6ghy63","location":{"lat":51.596937,"lng":-0.111346},"phoneNumber":"020 9876 1234","name":"KungFi Chinese","photos":"https://vallisweekes.com/portfolio/assests/kunfi_chinese.jpg","placeId":100007,"opening_hours":{"open_now":true,"periods":[{"close":{"day":0,"time":"2200"},"open":{"day":0,"time":"1200"}},{"close":{"day":1,"time":"2200"},"open":{"day":1,"time":"1000"}},{"close":{"day":2,"time":"2200"},"open":{"day":2,"time":"1000"}},{"close":{"day":3,"time":"2200"},"open":{"day":3,"time":"1000"}},{"close":{"day":4,"time":"2200"},"open":{"day":4,"time":"1000"}},{"close":{"day":5,"time":"2200"},"open":{"day":5,"time":"1000"}},{"close":{"day":6,"time":"2200"},"open":{"day":6,"time":"1000"}}],"weekday_text":["Monday: 10:00 AM \u2013 10:00 PM","Tuesday: 10:00 AM \u2013 10:00 PM","Wednesday: 10:00 AM \u2013 10:00 PM","Thursday: 10:00 AM \u2013 10:00 PM","Friday: 10:00 AM \u2013 10:00 PM","Saturday: 10:00 AM \u2013 10:00 PM","Sunday: 12:00 \u2013 10:00 PM"]},"rating":4,"reviews":[{"author_name":"Fabian Rodrigues","profile_photo_url":"https://lh4.ggpht.com/-HsVBNe3dMYo/AAAAAAAAAAI/AAAAAAAAAAA/HhOGpqoAXKg/s128-c0x00000000-cc-rp-mo-ba4/photo.jpg","rating":5,"relative_time_description":"a month ago","text":"Used to eat here regularly before I left wood green 15+ years ago.\\nToday I came home to visit my parents and had to eat here.... It\'s bigger, better and tastier than before\\nStaff make you feel just at home... Super friendly","time":1566663415}],"website":"http://www.vallisweekes.com","totalRatings":70,"status":"Good"},{"id":"1Dr456gtr90","location":{"lat":51.59694,"lng":-0.111762},"phoneNumber":"020 8172 0594","name":"Meccano","photos":"https://vallisweekes.com/portfolio/assests/meccano.jpg","placeId":100008,"opening_hours":{"periods":[{"close":{"day":0,"time":"2200"},"open":{"day":0,"time":"1200"}},{"close":{"day":1,"time":"2200"},"open":{"day":1,"time":"1000"}},{"close":{"day":2,"time":"2200"},"open":{"day":2,"time":"1000"}},{"close":{"day":3,"time":"2200"},"open":{"day":3,"time":"1000"}},{"close":{"day":4,"time":"2200"},"open":{"day":4,"time":"1000"}},{"close":{"day":5,"time":"2200"},"open":{"day":5,"time":"1000"}},{"close":{"day":6,"time":"2200"},"open":{"day":6,"time":"1000"}}],"weekday_text":["Monday: 10:00 AM \u2013 10:00 PM","Tuesday: 10:00 AM \u2013 10:00 PM","Wednesday: 10:00 AM \u2013 10:00 PM","Thursday: 10:00 AM \u2013 10:00 PM","Friday: 10:00 AM \u2013 10:00 PM","Saturday: 10:00 AM \u2013 10:00 PM","Sunday: 12:00 \u2013 10:00 PM"]},"rating":4,"reviews":[{"author_name":"Fabian Rodrigues","profile_photo_url":"https://lh4.ggpht.com/-HsVBNe3dMYo/AAAAAAAAAAI/AAAAAAAAAAA/HhOGpqoAXKg/s128-c0x00000000-cc-rp-mo-ba4/photo.jpg","rating":5,"relative_time_description":"a month ago","text":"Used to eat here regularly before I left wood green 15+ years ago.\\nToday I came home to visit my parents and had to eat here.... It\'s bigger, better and tastier than before\\nStaff make you feel just at home... Super friendly","time":1566663415}],"website":"http://www.vallisweekes.com","totalRatings":70,"status":"Good","address":"33 Station Road, London, N22 6UX","favourite":true},{"id":"1Dr456bnv63","location":{"lat":51.59719,"lng":-0.108831},"phoneNumber":"020 8758 7522","name":"Pizzara","photos":"https://vallisweekes.com/portfolio/assests/pizzara.jpg","placeId":100009,"opening_hours":{"periods":[{"close":{"day":0,"time":"2200"},"open":{"day":0,"time":"1200"}},{"close":{"day":1,"time":"2200"},"open":{"day":1,"time":"1000"}},{"close":{"day":2,"time":"2200"},"open":{"day":2,"time":"1000"}},{"close":{"day":3,"time":"2200"},"open":{"day":3,"time":"1000"}},{"close":{"day":4,"time":"2200"},"open":{"day":4,"time":"1000"}},{"close":{"day":5,"time":"2200"},"open":{"day":5,"time":"1000"}},{"close":{"day":6,"time":"2200"},"open":{"day":6,"time":"1000"}}],"weekday_text":["Monday: 10:00 AM \u2013 10:00 PM","Tuesday: 10:00 AM \u2013 10:00 PM","Wednesday: 10:00 AM \u2013 10:00 PM","Thursday: 10:00 AM \u2013 10:00 PM","Friday: 10:00 AM \u2013 10:00 PM","Saturday: 10:00 AM \u2013 10:00 PM","Sunday: 12:00 \u2013 10:00 PM"]},"rating":3,"reviews":[{"author_name":"Fabian Rodrigues","profile_photo_url":"https://lh4.ggpht.com/-HsVBNe3dMYo/AAAAAAAAAAI/AAAAAAAAAAA/HhOGpqoAXKg/s128-c0x00000000-cc-rp-mo-ba4/photo.jpg","rating":5,"relative_time_description":"a month ago","text":"Used to eat here regularly before I left wood green 15+ years ago.\\nToday I came home to visit my parents and had to eat here.... It\'s bigger, better and tastier than before\\nStaff make you feel just at home... Super friendly","time":1566663415}],"website":"http://www.vallisweekes.com","totalRatings":70,"status":"Ok","address":"732 Lordship Lane, London, N22 5JX"},{"id":"1Dr456ghy63","location":{"lat":51.595997,"lng":-0.10808},"phoneNumber":"020 8897 7776","name":"Caribbean Delight","photos":"https://vallisweekes.com/portfolio/assests/caribbean_delight.jpg","placeId":10009,"opening_hours":{"periods":[{"close":{"day":0,"time":"2200"},"open":{"day":0,"time":"1200"}},{"close":{"day":1,"time":"2200"},"open":{"day":1,"time":"1000"}},{"close":{"day":2,"time":"2200"},"open":{"day":2,"time":"1000"}},{"close":{"day":3,"time":"2200"},"open":{"day":3,"time":"1000"}},{"close":{"day":4,"time":"2200"},"open":{"day":4,"time":"1000"}},{"close":{"day":5,"time":"2200"},"open":{"day":5,"time":"1000"}},{"close":{"day":6,"time":"2200"},"open":{"day":6,"time":"1000"}}],"weekday_text":["Monday: 10:00 AM \u2013 10:00 PM","Tuesday: 10:00 AM \u2013 10:00 PM","Wednesday: 10:00 AM \u2013 10:00 PM","Thursday: 10:00 AM \u2013 10:00 PM","Friday: 10:00 AM \u2013 10:00 PM","Saturday: 10:00 AM \u2013 10:00 PM","Sunday: 12:00 \u2013 10:00 PM"]},"rating":3,"reviews":[{"author_name":"Fabian Rodrigues","profile_photo_url":"https://lh4.ggpht.com/-HsVBNe3dMYo/AAAAAAAAAAI/AAAAAAAAAAA/HhOGpqoAXKg/s128-c0x00000000-cc-rp-mo-ba4/photo.jpg","rating":5,"relative_time_description":"a month ago","text":"Used to eat here regularly before I left wood green 15+ years ago.\\nToday I came home to visit my parents and had to eat here.... It\'s bigger, better and tastier than before\\nStaff make you feel just at home... Super friendly","time":1566663415}],"website":"http://www.vallisweekes.com","totalRatings":70,"status":"Ok","address":"23 Gladstone Avenue, London, N22 6JU","favourite":true}]}')},134:function(e,t,a){e.exports=a(315)},139:function(e,t,a){},140:function(e,t,a){},156:function(e,t,a){},160:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){},311:function(e,t,a){},312:function(e,t,a){},313:function(e,t,a){},314:function(e,t,a){},315:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(42),s=a.n(o),l=(a(139),a(140),a(1)),i=a(2),c=a(4),m=a(3),d=a(5),u=function(e){return function(t){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={lat:[],lng:[]},t}return Object(d.a)(a,t),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;new Promise((function(e,t){console.log("The resolve object",e),navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!0,maximumAge:6e3,timeout:5e3})})).then((function(t){e.setState({lat:t.coords.latitude,lng:t.coords.longitude})})).catch((function(e){console.error(e.message)}))}},{key:"render",value:function(){var t=this.state,a=t.lat,n=t.lng;return console.log(a,n),r.a.createElement(e,{lat:a,lng:n})}}]),a}(n.Component)},h=a(34),p=a(10),g=a(32),f=a.n(g),y=a(19),v=(a(156),a(31)),b=a.n(v);var w=function(e){var t=e.ratingNum,a=e.onRatingChecked;return r.a.createElement("div",{className:"rating--filter-holder"},r.a.createElement("input",{type:"checkbox",className:"mr-2",value:t,onChange:function(e){return a(t,e)}}),t,r.a.createElement("span",{className:"checkmark"}))},A=a(11),E=a.n(A),N=function(e){var t=e.ratingNum;return r.a.createElement("span",{className:"ml-2"},r.a.createElement(E.a,{name:"rate2",editing:!1,starCount:t,value:t,starColor:"#F30303",emptyStarColor:"#CACACA"}))},S=function(e){var t=e.ratings,a=e.onRatingChecked;return r.a.createElement("ul",null,t&&t.map((function(e,t){return r.a.createElement("li",{key:t,className:"ratings__dropdonw-items p-2 "},r.a.createElement(w,{ratingNum:e,onRatingChecked:a}),r.a.createElement(N,{key:t,ratingNum:e}))})))},M=a(56),k=a.n(M),C=a(55),R=a.n(C),O=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={showItems:!1},a.onShowItems=function(){a.setState((function(e){return{showItems:!a.state.showItems}}))},a.closeFilterBackgrond=function(){console.log("Background")},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("span",null,"Filter By:"),r.a.createElement("button",{className:" btn btn__style",type:"button",onClick:this.onShowItems},this.props.label,this.state.showItems?r.a.createElement("span",null,r.a.createElement(R.a,null," ArrowDropUpIcon ")," "):r.a.createElement(k.a,null," ArrowDropDownIcon ")," "),r.a.createElement("div",{onClick:this.closeFilterBackgrond,className:"ratings__dropdown-background",style:{display:this.state.showItems?"block":"none"}},r.a.createElement("div",{className:"ratings__dropdown-menu"},"\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement(S,{onSelectedNum:this.props.selectedRating,onRatingChecked:this.props.onRatingChecked,ratings:this.props.ratings}))))}}]),t}(r.a.Component),_=(a(160),a(60)),I=a.n(_),P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={address:"",coordinates:{lat:a.props.lat,lng:a.props.lat},showDropDown:!1},a.seachInput=r.a.createRef(),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.handleChange=function(t){e.setState({address:t})},this.handleSelect=function(t){var a,n;return f.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,f.a.awrap(Object(_.geocodeByAddress)(t));case 2:return a=r.sent,r.next=5,f.a.awrap(Object(_.getLatLng)(a[0]));case 5:n=r.sent,e.setState({address:t,coordinates:{lat:n.lat,lng:n.lng}}),e.props.searchLatLng(e.state.coordinates);case 8:case"end":return r.stop()}}))}}},{key:"render",value:function(){var e=this.state.address?"search--input-wrap box-shadow-none":" search--input-wrap";return r.a.createElement(I.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect,highlightFirstSuggestion:!0},(function(t){var a=t.getInputProps,o=t.suggestions,s=t.getSuggestionItemProps,l=t.loading;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:e},r.a.createElement("i",{className:"fa fa-search"}),r.a.createElement("input",Object.assign({id:"search--box",className:"mt-2 search  justify-content-center"},a({placeholder:"Search Places ...",className:"location-search-input"})))),r.a.createElement("div",{className:"autocomplete-dropdown-container",style:{borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px",borderRight:"1px solid #d4d4d4",borderLeft:"1px solid #d4d4d4",borderBottom:"1px solid #d4d4d4"}},l&&r.a.createElement("div",null,"Loading..."),o.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",s(e,{className:t,style:a}),r.a.createElement("span",null,e.description))}))))}))}}]),t}(r.a.Component),j=function(e){var t=e.ratings,a=e.onRatingChecked,n=e.restaraunts,o=e.searchLatLng;return r.a.createElement("section",{className:"filterBar__wrapper"},r.a.createElement("section",{className:"flex__ ml-4"},r.a.createElement("section",{className:"filterBar--section-filters"},r.a.createElement(O,{label:"Ratings",onRatingChecked:a,ratings:t,id:n.map((function(e){return e.id}))})),r.a.createElement("section",{className:"filterBar--section-search"},r.a.createElement("section",{className:"location-searchbox"},r.a.createElement(P,{searchLatLng:o})))))},F=(a(165),function(e){var t=e.searchLatLng,a=e.onRatingChecked,o=e.restaraunts,s=e.ratings;return r.a.createElement(n.Fragment,null,r.a.createElement("header",{className:"app--header-container"},r.a.createElement("section",{className:"app--header-inner"},r.a.createElement("section",{className:"app--header-content"},r.a.createElement("div",{className:"app-header-text"},r.a.createElement("h1",null,"Eat Anywhere Worldwide")))),r.a.createElement("section",{className:"app__filterBar"},r.a.createElement(j,{onRatingChecked:a,restaraunts:o,ratings:s,searchLatLng:t}))))}),x=(a(166),function(){return r.a.createElement("div",{className:"sk-circle"},r.a.createElement("div",{className:"sk-circle1 sk-child"}),r.a.createElement("div",{className:"sk-circle2 sk-child"}),r.a.createElement("div",{className:"sk-circle3 sk-child"}),r.a.createElement("div",{className:"sk-circle4 sk-child"}),r.a.createElement("div",{className:"sk-circle5 sk-child"}),r.a.createElement("div",{className:"sk-circle6 sk-child"}),r.a.createElement("div",{className:"sk-circle7 sk-child"}),r.a.createElement("div",{className:"sk-circle8 sk-child"}),r.a.createElement("div",{className:"sk-circle9 sk-child"}),r.a.createElement("div",{className:"sk-circle10 sk-child"}),r.a.createElement("div",{className:"sk-circle11 sk-child"}),r.a.createElement("div",{className:"sk-circle12 sk-child"}),r.a.createElement("div",{className:"loading--text"},"Loading..."))}),L=(a(167),function(e){var t=e.rating;return r.a.createElement("div",{className:"rest__card-starrating"},r.a.createElement("span",{className:"infowindow--container-rating mr-1"},t),r.a.createElement(E.a,{name:"rate2",editing:!1,starCount:5,value:t,starColor:"#F30303",emptyStarColor:"#CACACA"}))}),H=function(e){var t=e.name,a=e.image,n=e.quality,o=e.rating;return r.a.createElement("div",{className:"infowindow--container"},r.a.createElement("section",{className:"infowindow--container-inner"},a?r.a.createElement("img",{src:a,alt:t}):null,r.a.createElement("p",null,t)),r.a.createElement("section",{className:"infowindow--container-extra"},r.a.createElement("span",{className:"infowindow--container-quality text-bold ".concat("Fabulous"===n?"fabulous":"Good"===n?"good":"ok")},n),r.a.createElement("span",null,o?r.a.createElement(L,{rating:o}):null)))},D=(a(168),function(e){var t=e.restaraunts,a=e.googleMap,o=e.lat,s=e.lng,l=e.onIconClick,i=e.activeMarker,c=e.selectedPlace,m=e.showInfoWindow,d=e.onClose;return r.a.createElement(n.Fragment,null,r.a.createElement(y.Map,{google:a,className:"map",zoom:13,initialCenter:{lat:o,lng:s},onDblclick:e.addMarker,scaleControl:!0,mapTypeControlOptions:!0},t.length&&t.map((function(e){return r.a.createElement(y.Marker,{key:e.id.toString(),placeId:e.placeid,name:e.name,address:e.address,image:e.photos,totalRatings:e.totalRatings,rating:e.rating,restaurantQuality:5===e.rating?"Fabulous":e.rating>3?"Good":"Ok",restarauntRating:e.rating?e.rating:null,position:{lng:e.location.lng,lat:e.location.lat}})})),r.a.createElement(y.Marker,{onClick:l,name:"You are Here",position:{lat:o,lng:s},clickable:!0,icon:"https://www.vallisweekes.com/img/you_are_here.png"}),r.a.createElement(y.InfoWindow,{marker:i,visible:m,onClose:d},r.a.createElement(H,{image:c.image,name:c.name,address:c.addrress,quality:c.restaurantQuality,rating:c.rating,totalRatings:c.totalRatings}))))}),B=a(7),T=a.n(B),U=(a(169),function(e){var t=e.itemsCount,a=e.pageSize,n=e.currentPage,o=e.onPageChange,s=Math.ceil(t/a);if(1===s)return null;var l=b.a.range(1,s+1);return r.a.createElement("nav",{"aria-label":"pagination"},r.a.createElement("div",{className:"pagination__"},l.map((function(e){return r.a.createElement("div",{key:e,className:e===n?"page-item active pagination__item-link":"page-item pagination__item-link",onClick:function(){return o(e)}},e)}))))});U.prototype={itemsCount:T.a.number.isRequired,pageSize:T.a.number.isRequired,currentPage:T.a.number.isRequired,onPageChange:T.a.func.isRequired};var J=U,W=a(54),q=(a(85),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.onSort;return r.a.createElement("ul",{className:"sort--dropdown","aria-labelledby":"SortDropDown"},["name"].map((function(t,a){return r.a.createElement("li",{key:a,className:"sort--dropdown-items",onClick:function(){return e(t)}},t)}))," ")}}]),t}(n.Component)),V=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={showSortItems:!1},a.onShowSort=a.onShowSort.bind(Object(W.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"onShowSort",value:function(){this.setState((function(e){return{showSortItems:!e.showSortItems}}))}},{key:"render",value:function(){var e=this.props.onSort;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"dropdown"},r.a.createElement("button",{className:" btn btn__style",type:"button",onClick:this.onShowSort},this.props.label,this.state.showItems?r.a.createElement("span",null,r.a.createElement(R.a,null," ArrowDropUpIcon ")," "):r.a.createElement(k.a,null," ArrowDropDownIcon ")),r.a.createElement("div",{style:{display:this.state.showSortItems?"block":"none"}},"\xa0\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement(q,{onSort:e}))))}}]),t}(r.a.Component),G=a(125),z=a.n(G),K=a(126),Y=a.n(K),X=function(e){var t=e.favourite,a=e.onClick;return r.a.createElement("section",{className:"rest__card-favourites",onClick:a},t?r.a.createElement(Y.a,{style:{color:"#042ed8"}}):r.a.createElement(z.a,null))},Q=function(e){var t=e.restaurantImage,a=e.restaurantName,n=e.placeId,o=e.restaurauntObject,s=e.handleFavourite,l=e.favourite;return r.a.createElement("div",{className:"rest__card-img-holder "},r.a.createElement("section",{className:"favourite--button-wrapper"},r.a.createElement(X,{onClick:function(){return s(o)},favourite:l})),r.a.createElement("img",{id:n,className:"rest__card-img",src:t,alt:a}))},Z=function(e){var t=e.totalRatings,a=e.ratingText;return r.a.createElement("div",{className:"rest__card-ratingstotal"},r.a.createElement("p",null,1===t?"(".concat(t,") ").concat(a):"(".concat(t,") ").concat(a,"s")))},$=function(e){var t=e.rating;return r.a.createElement("div",{className:"rest__card-starrating"},r.a.createElement("span",{className:"mr-1"},t),r.a.createElement(E.a,{name:"rate2",editing:!1,starCount:5,value:t,starColor:"#F30303",emptyStarColor:"#CACACA"}))},ee=function(e){var t=e.restaurantName,a=e.restaurantAddress,n=e.restaurantQuality,o=e.rating,s=e.totalRatings,l=e.ratingText,i=e.showDetails,c=e.placeId,m=e.id;return r.a.createElement("section",{className:"rest__card-info",onClick:function(){return i(c,m)}},r.a.createElement("div",{className:"flex__items-column"},r.a.createElement("div",{className:"rest__card-quality text-bold ".concat("Fabulous"===n?"fabulous":"Good"===n?"good":"ok")},n),r.a.createElement("div",{className:"rest__card-name text-bold text-size-lg"},r.a.createElement("div",null,t)),r.a.createElement("div",{className:"rest__card-address text-bold"},a)),r.a.createElement("section",{className:"ratings--wrapper"},r.a.createElement($,{rating:o}),r.a.createElement(Z,{totalRatings:s||0,ratingText:l})))},te=(a(170),function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(Q,{handleFavourite:e.handleFavourite,restaurauntObject:e.restaurauntObject,favourite:e.favourite,restaurantImage:e.restaurantImage,restaurantName:e.restaurantName,placeId:e.placeId}),r.a.createElement(ee,e))}),ae=function(e){var t=e.restarauntResults,a=e.itemCount,n=e.pageSize,o=e.currentPage,s=e.onPageChange,l=e.googleMap,i=e.onSort,c=e.handleFavourite,m=e.showDetails,d=e.lat,u=e.lng,h=t.map((function(e){return r.a.createElement("section",{key:e.id,className:"rest__card"},r.a.createElement(te,{id:e.id,placeId:e.placeId,restaurantQuality:5===e.rating?"Fabulous":e.rating>3?"Good":"Ok",restaurantImage:e.photos,restaurantName:e.name,restaurantAddress:e.address,rating:e.rating?e.rating:0,totalRatings:e.totalRatings,restaurauntLocation:e.location,google:l,ratingText:"Customer Rating",favourite:e.favourite,showDetails:m,restaurauntObject:e,handleFavourite:c,lat:d,lng:u}))}));return r.a.createElement("main",{className:"rest__container"},r.a.createElement("header",{className:"rest__container-header"},r.a.createElement("div",{className:"rest__results-info"},"Showing ",t.length," of ",a," results"),r.a.createElement(J,{itemsCount:a,currentPage:o,pageSize:n,onPageChange:s}),r.a.createElement(V,{label:"Sort",onSort:i})),r.a.createElement("div",null,h))},ne=a(33),re=a(129),oe=a.n(re),se=a(14),le=se.object().shape({name:se.string().min(2,"Too Short!").max(20,"Too Long!").required("Required"),text:se.string().min(2,"Too Short!").max(200,"Too Long!").required("Required")}),ie=function(e){var t=e.value,a=e.onChange,o=e.name,s=e.error,l=e.label,i=e.onBlur;return r.a.createElement(n.Fragment,null,r.a.createElement("label",{htmlFor:o},r.a.createElement("b",null,l)),r.a.createElement("input",{id:o,autoFocus:!0,type:"text",placeholder:"Enter name",name:o,value:t,onChange:a,onBlur:i}),s&&r.a.createElement("div",{className:"alert alert-danger"},s))},ce=function(e){var t=e.value,a=e.name,o=e.error,s=e.label,l=e.onBlur,i=e.onChange;return r.a.createElement(n.Fragment,null,r.a.createElement("label",{htmlFor:a},r.a.createElement("b",null,s)),r.a.createElement("div",null,r.a.createElement("textarea",{className:"review-textarea",id:a,type:"text",placeholder:"Tell us what you think",name:a,value:t,onChange:i,onBlur:l})),o&&r.a.createElement("div",{className:"alert alert-danger"},o))},me=function(e){var t=e.handleCloseForm;return r.a.createElement("button",{className:"review-cancel",type:"button",onClick:t},"Cancel")},de=function(e){var t=e.disable;return r.a.createElement("button",{className:"review-post",type:"submit",disabled:t},"Add")},ue=function(e){var t=e.rating,a=e.handleRating;return r.a.createElement(n.Fragment,null,r.a.createElement(E.a,{className:"stars--container",name:"rate2",editing:!0,starCount:5,value:t,starColor:"#F30303",emptyStarColor:"#CACACA",onStarClick:a}))},he=(a(299),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={rating:0},a.onStarClick=function(e,t,n){a.setState({rating:e})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.handleCloseForm,n=t.name,o=t.onReviewSubmit,s=t.selectedRestaurantObj,l=this.state.rating;return console.log(this.state.rating),r.a.createElement(ne.b,{initialValues:{name:"",text:""},validationSchema:le,onSubmit:function(t,n){var r=n.setSubmitting,i=n.resetForm;setTimeout((function(){o(s,{author_name:t.name,author_url:"https//www.facebook.com",language:navigator.language,profile_photo_url:"https://www.vallisweekes.com/img/default_profile_photo.png",rating:l,relative_time_description:oe()().startOf("min").fromNow(),text:t.text,time:"1234555"}),r(!1),e.setState({rating:0}),i(),a()}),2e3)}},(function(t){var o=t.handleChange,s=t.values,l=t.errors,i=t.handleBlur,c=t.isSubmitting;return r.a.createElement("main",{className:"modal-form"},r.a.createElement(ne.a,{className:"modal--form-inner"},r.a.createElement("div",{className:"text-align-centre"},r.a.createElement("h1",null,n)),r.a.createElement("h2",null,"Add Review"),r.a.createElement(ue,{rating:e.state.rating,handleRating:e.onStarClick}),r.a.createElement("section",{className:"name"},r.a.createElement(ie,{name:"name",value:s.name,label:"Your Name",onChange:o,onBlur:i,error:l.name})),r.a.createElement("section",{className:"review"},r.a.createElement(ce,{name:"text",value:s.text,label:"Write Your Review",onChange:o,onBlur:i,error:l.text})),r.a.createElement("footer",{className:"review-footer"},r.a.createElement(me,{handleCloseForm:a}),r.a.createElement(de,{disable:c}))))}))}}]),t}(n.Component)),pe=function(e){var t=e.hideModal;return r.a.createElement("div",{className:"modal-close",onClick:t})},ge=function(e){var t=e.name;return r.a.createElement(n.Fragment,null,r.a.createElement("h3",null,t))},fe=function(e){var t=e.ratings;return r.a.createElement("div",{className:"modal--starrating-wrap"},r.a.createElement("span",{className:"mr-1"},t||"No Rating"),r.a.createElement(E.a,{name:"rate2",editing:!1,starCount:5,value:t,starColor:"#F30303",emptyStarColor:"#CACACA"}))},ye=function(e){var t=e.name,a=e.location,n="https://maps.googleapis.com/maps/api/streetview?location=".concat(a.lat,",").concat(a.lng,"&size=410x120&(Left: fov=90; Right: fov=80)&heading=11&pitch=0.56&key=AIzaSyCcMtA-_NBxt6cD8uefrk6EFlv-2YfXtS0");return r.a.createElement("section",{className:"header-img"},r.a.createElement("h5",null,"Sreet View"),r.a.createElement("img",{style:{width:"100%",height:"150px"},src:n,alt:t}))},ve=a(59),be=a.n(ve),we=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("p",{className:"restaurant--hours-open ml-1"},"Open",r.a.createElement("span",{className:"restaurant--hours-open-icon"},r.a.createElement(be.a,{fontSize:"small"},"FiberManualRecordIcon"))))}}]),t}(n.Component),Ae=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement("p",{className:"restaurant--hours-close ml-1"},"Closed",r.a.createElement("span",{className:"restaurant--hours-close-icon"},r.a.createElement(be.a,{fontSize:"small"},"FiberManualRecordIcon"))))}}]),t}(n.Component),Ee=(a(300),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.openingHours,t=e.open_now?r.a.createElement(we,{openingHours:e}):"undefined"===e?null:r.a.createElement(Ae,{openingHours:e});return r.a.createElement("section",{className:"text-small restaurant--hours"},r.a.createElement("p",{className:"text-bold"},"Hours:"),t)}}]),t}(n.Component)),Ne=function(e){var t=e.address,a=e.phoneNumber,n=e.openingHours;return r.a.createElement("div",{className:"modal--container-body"},r.a.createElement("address",{className:"text-small"},r.a.createElement("span",{className:"text-bold"},"Address: "),t),r.a.createElement(Ee,{openingHours:n}),r.a.createElement("section",{className:"text-small"},r.a.createElement("span",{className:"text-bold"},"Phone: "),a))},Se=function(e){var t=e.totalReviews;return r.a.createElement("div",{className:"border-b m--botom-10 review-total"},t," ",r.a.createElement("span",null,"Customer Reviews"))},Me=function(e){var t=e.handleFormDisplay;return r.a.createElement("div",{className:"add-reviews"},r.a.createElement("button",{className:"modal-btn",onClick:t},r.a.createElement("i",{className:"fas fa-user-edit"}),"Write a review"))},ke=function(e){var t=e.name;return r.a.createElement(n.Fragment,null,r.a.createElement("p",{className:"text-bold"},t))},Ce=function(e){var t=e.ratings;return r.a.createElement(n.Fragment,null,r.a.createElement(E.a,{name:"rate2",editing:!1,starCount:5,value:t,starColor:"#F30303",emptyStarColor:"#CACACA"}))},Re=a(130),Oe=a.n(Re),_e=function(e){var t=e.review;return r.a.createElement("div",{className:"review-card-text"},r.a.createElement(Oe.a,{key:t,text:t}))},Ie=function(e){var t=e.reviews,a=t&&t.map((function(e,t){return r.a.createElement("section",{key:t,className:"modal--review-inner"},r.a.createElement("div",{className:"review--card"},r.a.createElement(ke,{name:e.author_name}),r.a.createElement("div",{className:"review--card-review"},r.a.createElement("div",{className:"review--card-img"},r.a.createElement("img",{src:e.profile_photo_url,alt:e.author_name})),r.a.createElement(_e,{review:e.text})),r.a.createElement("div",{className:"review--card-ratings"},e.rating,r.a.createElement("span",null,e.rating?r.a.createElement(Ce,{ratings:e.rating}):"No Rating")),r.a.createElement("div",{className:"review--card-timestamp"},e.relative_time_description),r.a.createElement("div",{className:"review--card-timestamp"})))}));return r.a.createElement(n.Fragment,null,a)},Pe=function(e){var t=e.reviews,a=e.handleFormDisplay;return r.a.createElement(n.Fragment,null,r.a.createElement(Se,{totalReviews:t.length}),r.a.createElement(Me,{handleFormDisplay:a}),r.a.createElement("h4",{className:"mt-4"},"Reviews"),r.a.createElement(Ie,{reviews:t}))},je=function(e){var t=e.website,a=e.name;return r.a.createElement("section",{className:"text-small m--botom-20 web"},r.a.createElement("a",{href:t,target:"_blank",rel:"noreferrer noopener",title:a},r.a.createElement("div",null,"Website")))},Fe=a(131),xe=(a(311),function(e){var t=e.photosData,a=e.name;return r.a.createElement("div",{className:"slide-container"},r.a.createElement(Fe.Zoom,{duration:5e3,transitionDuration:800,infinite:!0,indicators:!0,scale:.3,arrows:!0},t.map((function(e,t){return r.a.createElement("img",{key:t,style:{width:"100%",height:"175px",objectFit:"cover",padding:"10px"},src:e.src,alt:a})}))))}),Le=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.photos.map((function(e){return{src:e,width:e.width,height:e.height}}));return r.a.createElement(n.Fragment,null,r.a.createElement(xe,{photosData:e}))}}]),t}(n.Component),He=(a(312),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).myRef=r.a.createRef(),e}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.id,a=e.placeId,o=e.name,s=e.address,l=e.phoneNumber,i=e.website,c=e.handleFormDisplay,m=e.handleCloseForm,d=e.showForm,u=e.customersPhoto,h=e.location,p=e.openingHours,g=e.hideModal,f=e.reviews,y=e.ratings,v=e.onReviewSubmit,b=e.setRating,w=e.reviewButtonControl,A=e.selectedRestaurantObj,E=d?"modal--form-container display-block":"modal--form-container display-none";return r.a.createElement(n.Fragment,null,r.a.createElement("section",{className:E},r.a.createElement(he,{name:o,handleCloseForm:m,setRating:b,reviewButtonControl:w,id:t,onReviewSubmit:v,selectedRestaurantObj:A})),r.a.createElement("main",{id:a,className:"modal--contianer-inner",ref:this.myRef},r.a.createElement(pe,{hideModal:g}),r.a.createElement("header",{className:"modal--container-header"},r.a.createElement(ge,{name:o}),r.a.createElement(fe,{ratings:y}),r.a.createElement(je,{website:i,name:o}),r.a.createElement(ge,{ratings:y}),r.a.createElement(ye,{name:o,location:h})),r.a.createElement(Ne,{openingHours:p,address:s,phoneNumber:l,website:i}),r.a.createElement("section",{className:"modal--contianer-slide"},r.a.createElement(Le,{photos:u,name:o})),r.a.createElement("section",{className:"modal--review-wrapper"},r.a.createElement(Pe,{handleAddReview:this.handleAddReview,reviews:f,handleFormDisplay:c}))))}}]),t}(n.Component)),De=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(He,this.props))}}]),t}(n.Component),Be=function(e){var t=e.type,a=e.placeholder,o=e.name,s=e.value,l=e.onChange,i=e.onBlur,c=e.errors,m=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement("label",{htmlFor:"restaurantName"},"Restaurant Name"),r.a.createElement("input",{type:t,placeholder:a,name:o,value:s,onChange:l,onBlur:i}),c.restaurantName&&m.restaurantName?r.a.createElement("div",null,c.restaurantName):null)},Te=function(e){var t=e.type,a=e.name,o=e.value,s=e.placeholder,l=e.onChange,i=e.onBlur,c=e.errors,m=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement("label",{htmlFor:"address"},"Address"),r.a.createElement("input",{type:t,name:a,value:o,placeholder:s,onChange:l,onBlur:i}),c.address&&m.address?r.a.createElement("div",null,c.address):null)},Ue=function(e){var t=e.type,a=e.name,o=e.placeholder,s=e.value,l=e.onChange,i=e.onBlur,c=e.errors,m=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement("label",{htmlFor:"phoneNumber"},"Phone Number"),r.a.createElement("input",{type:t,name:a,value:s,placeholder:o,onChange:l,onBlur:i}),c.phoneNumber&&m.phoneNumber?r.a.createElement("div",null,c.phoneNumber):null)},Je=function(e){var t=e.type,a=e.name,o=e.placeholder,s=e.value,l=e.onChange,i=e.onBlur,c=e.errors,m=e.touched;return r.a.createElement(n.Fragment,null,r.a.createElement("label",{htmlFor:"website"},"Website"),r.a.createElement("input",{type:t,placeholder:o,name:a,value:s,onChange:l,onBlur:i}),c.website&&m.website?r.a.createElement("div",null,c.website):null)},We=function(e){var t=e.onChange;return r.a.createElement("section",{className:"add--photo"},r.a.createElement("div",{className:"add--photo-content indent-left"},r.a.createElement("img",{className:"add--photo-image",src:"https://www.vallisweekes.com/img/cameraicon.png",alt:""})),r.a.createElement("div",{className:"add-photo-checkbox"},r.a.createElement("label",null,"Default Image"),r.a.createElement("input",{type:"checkbox",checked:!0,onChange:t})))},qe=function(e){var t=e.TypeText,a=e.restaurantName,o=e.restaurantValue,s=e.restaurantPlaceholder,l=e.addressName,i=e.addressValue,c=e.addressPlaceholder,m=e.phoneNumberName,d=e.phoneNumberPlaceholder,u=e.phoneNumberValue,h=e.websiteName,p=e.websitePlaceholder,g=e.websiteValue,f=e.onChange,y=e.onBlur,v=e.errors,b=e.touched;return console.log(v),r.a.createElement(n.Fragment,null,r.a.createElement("section",{className:"restaurant-details form-flex-column"},r.a.createElement("h3",null,"Restaurant Details"),r.a.createElement(Be,{touched:b,errors:v,type:t,name:a,value:o,placeholder:s,onChange:f,onBlur:y}),r.a.createElement(Te,{touched:b,errors:v,type:t,name:l,placeholder:c,value:i,onChange:f,onBlur:y}),r.a.createElement(Ue,{touched:b,errors:v,type:t,name:m,placeholder:d,phoneNumberValue:u,onChange:f,onBlur:y}),r.a.createElement(Je,{touched:b,errors:v,type:t,name:h,placeholder:p,value:g,onChange:f,onBlur:y}),r.a.createElement(We,{onChange:f})))},Ve=(a(313),se.object().shape({restaurantName:se.string().min(2,"Too Short!").max(20,"Too Long!").required("Required"),address:se.string().min(2,"Too Short!").max(200,"Too Long!").required("Required"),restPhoneNumber:se.number().required("Required"),website:se.string().min(9,"Too Short!").max(20,"Too Long!").required("Required")})),Ge=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={page:0},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.addRestaurantOnMap,a=e.handleCloseRestaurant;return r.a.createElement(ne.b,{initialValues:{restaurantName:"",address:"",reviews:[{}],photos:"",restPhoneNumber:"",website:"",rating:"",totalRatings:""},validationSchema:Ve,onSubmit:function(e,a){var n=a.setSubmitting,r=a.resetForm;setTimeout((function(){t({id:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),location:{lat:0,lng:0},name:e.restaurantName,photos:"https://www.vallisweekes.com/img/noimage.jpg",placeId:Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),address:e.address,phone:e.restPhoneNumber,customersPhoto:["https://www.vallisweekes.com/img/nocustomerimage.jpg"],rating:0,openingHours:{},reviews:[],website:e.website,favourite:!1}),n(!1),r()}),2e3)}},(function(e){var t=e.handleChange,n=e.values,o=e.errors,s=e.touched,l=e.handleBlur;e.isSubmitting;return r.a.createElement(ne.a,{className:"add--restaurant-wrapper"},r.a.createElement(qe,{errors:o,touched:s,TypeText:"text",restaurantName:"restaurantName",restaurantValue:n.restaurantName,restaurantPlaceholder:"Enter restaurant name",addressName:"address",addressValue:n.address,addressPlaceholder:"Enter address",phoneNumberName:"restPhoneNumber",phoneNumberPlaceholder:"0208 000 0000",phoneNumberValue:n.restPhoneNumber,websiteName:"website",websitePlaceholder:"Enter your website",onChange:t,onBlur:l}),r.a.createElement("footer",{className:"footer--wrap"},r.a.createElement("button",{className:"form-btn cancel",type:"button",onClick:a},"Cancel"),r.a.createElement("button",{className:"form-btn submit",type:"submit"},"Submit")))}))}}]),t}(n.Component),ze=window.matchMedia("max-width: 568px")?{width:"100%",height:"200px",position:"fixed",zIndex:100,top:"12rem",paddingRight:"0.5rem",marginBottom:"2rem",backgroundColor:"#fff",borderBottom:"1px solid #cfcfd0",boxSizing:"border-box"}:window.matchMedia("max-width: 758px")?{width:"100%",height:"200px",position:"fixed",zIndex:100,top:"13rem",paddingRight:"0.5rem",marginBottom:"3rem",backgroundColor:"#fff",borderBottom:"1px solid #cfcfd0",boxSizing:"border-box"}:{width:"100%",height:"100%",position:"fixed"},Ke=function(e){var t=e.lat,a=e.lng,o=e.googleMap,s=e.mapProps,l=e.myRestaurants,i=e.selectedRestaurant,c=e.showAddRestaurantForm,m=e.handleCloseRestaurant,d=e.onIconClick,u=e.onClose,h=e.activeMarker,p=e.selectedPlace,g=e.showInfoWindow,f=e.handleFormDisplay,y=e.handleCloseForm,v=e.showForm,b=e.showModal,w=e.hideModal,A=e.hoverState,E=e.setHoverState,N=e.onMouseLeave,S=e.setRating,M=e.reviewButtonControl,k=e.onReviewSubmit,C=e.addRestaurantOnMap,R=e.setHomeDefault,O=e.saveUserHomeLocation,_=e.handleHomeRestaurants,I=e.handleFavourite,P=i&&i.map((function(n,o){return r.a.createElement(De,{key:n.placeId||o,myRestaurants:l,id:n.id,placeId:n.placeId,name:n.name,address:n.address,ratings:n.rating,phoneNumber:n.phoneNumber,website:n.website,reviews:n.reviews,customersPhoto:n.customersPhoto,location:n.location,openingHours:n.openingHours,hideModal:w,handleFormDisplay:f,handleCloseForm:y,showForm:v,hoverState:A,onReviewSubmit:k,setHoverState:E,onMouseLeave:N,setRating:S,reviewButtonControl:M,selectedReview:e.reviews,selectedRestaurantObj:n,mapProps:s,lat:t,lng:a})})),j=b?"modal--contianer display-block":"modal--contianer display-none",F=c?"add--restaurant display-block":"add--restaurant display-none";return r.a.createElement(n.Fragment,null,r.a.createElement("section",{className:j},P),r.a.createElement("main",{className:"app__results-viewport"},r.a.createElement("section",{className:F},r.a.createElement(Ge,{addRestaurantOnMap:C,restarauntLength:l.length,handleCloseRestaurant:m})),r.a.createElement("section",{className:"app__map"},r.a.createElement("div",{className:"app__map-container",style:ze},r.a.createElement(D,{lat:t,lng:a,googleMap:o,restaraunts:l,onIconClick:d,onClose:u,addMarker:e.addMarker,activeMarker:h,selectedPlace:p,showInfoWindow:g,showDetails:e.showDetails,onMapReady:e.onMapReady}))),r.a.createElement("section",{className:"app__results-column"},r.a.createElement(ae,{googleMap:o,mapProps:s,lat:t,lng:a,restarauntResults:e.myRestaurants,itemCount:e.itemCount,pageSize:e.pageSize,currentPage:e.currentPage,onClose:u,activeMarker:h,onPageChange:e.onPageChange,onIconClick:e.onIconClick,onRestaurantClick:e.onRestaurantClick,onSort:e.onSort,showDetails:e.showDetails,setHomeDefault:R,saveUserHomeLocation:O,handleHomeRestaurants:_,handleFavourite:I}))))},Ye=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onMarkerClick=function(e,t,n){console.log("this is the marker",t),a.setState({selectedPlace:e,activeMarker:t,showInfoWindow:!0})},a.onClose=function(e){a.state.showingInfoWindow&&a.state.showModal&&a.setState({showInfoWindow:!1,activeMarker:null})},a.handleFormOpen=function(e){e.preventDefault(),a.setState({showForm:!0})},a.handleCloseForm=function(){a.setState({showForm:!1})},a.state={selectedPlace:{},activeMarker:{},showingInfoWindow:!1,showForm:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Ke,Object.assign({},this.state,this.props,{onClose:this.onClose,onIconClick:this.onMarkerClick,handleCloseForm:this.handleCloseForm,handleFormDisplay:this.handleFormOpen})))}}]),t}(n.Component),Xe=function(e){var t=e.setHomeDefault;return r.a.createElement(n.Fragment,null,r.a.createElement("section",{className:"popup--container"},r.a.createElement("section",{className:"popup--content"},r.a.createElement("p",null,"Do you want to save this location as default?"),r.a.createElement("div",{className:"options--content"},r.a.createElement("div",{role:"button",className:" option--btn option--content-yes",onClick:function(){return t("yes")}},"Yes"),r.a.createElement("div",{role:"button",className:" option--btn option--content-no",onClick:function(){return t("no")}},"No")))))},Qe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={googleResults:[],myRestaurants:[],currentPage:1,pageSize:10,ratings:[5,4,3,2,1],isChecked:!1,ratingValue:[],sortItem:{path:"name",order:"asc"}},a.handleRatings=function(e,t){var n=a.state.ratingValue;a.setState({isChecked:t.target.checked}),t.target.checked?(n.push(e),a.setState({ratingValue:n})):n.includes(e)&&(n.splice(n.indexOf(e),1),a.setState({ratingValue:n}))},a.handleFavourite=function(e){var t=Object(p.a)(a.state.restaurants),n=t.indexOf(e);t[n]=Object(h.a)({},t[n]),t[n].favourite=!t[n].favourite,a.setState({restaurants:t,favourites:t.filter((function(e){return!0===e.favourite}))}),t.filter((function(e){return!0===e.favourite}))},a.handlePageChange=function(e){a.setState({currentPage:e})},a.handleSort=function(e){var t=Object(h.a)({},a.state.sortItem);t.path===e?t.order="asc"===t.order?"desc":"asc":(t.path=e,t.order="asc"),a.setState({sortItem:t})},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.setState({myRestaurants:[this.props.restaurantResults]})}},{key:"render",value:function(){var e=this.state,t=e.pageSize,a=e.currentPage,n=e.ratings,o=e.ratingValue,s=e.sortItem,l=this.props,i=l.lat,c=l.lng,m=l.restaurantResults,d=l.googleMap,u=l.selectedRestaurant,h=l.showAddRestaurantForm,p=l.handleCloseRestaurant,g=l.searchLatLng,f=l.data,y=l.hoverState,v=l.setHoverState,w=l.onMouseLeave,A=l.setRating,E=l.reviewButtonControl,N=l.onReviewSubmit,S=l.addRestaurantOnMap,M=l.setHomeDefault,k=l.showPopUp,C=l.handleCLosePopUp,R=l.saveUserHomeLocation,O=l.handleHomeRestaurants,_=l.handleFavourite,I=l.mapProps,P=this.props.restaurantResults.length,j=0!==o.length?m.filter((function(e){return o.includes(e.rating)})):m,L=b.a.orderBy(j,[s.path],[s.order]);L.forEach((function(e,t){!0===e.favourite&&(L.splice(t,1),L.unshift(e))}));var H=function(e,t,a){var n=(t-1)*a;return b()(e).slice(n).take(a).value()}(L,a,t);return r.a.createElement("div",{className:"app__containter",onClick:C},k?r.a.createElement(Xe,{setHomeDefault:M}):null,r.a.createElement(F,{searchLatLng:g,lat:i,lng:c,onRatingChecked:this.handleRatings,restaraunts:H,ratings:n}),r.a.createElement("main",{className:"app__container-results conatainer-fluid"},P>=60&&P>=30?r.a.createElement(Ye,{lat:i,lng:c,googleMap:d,mapProps:I,myRestaurants:H,itemCount:j.length,pageSize:t,currentPage:a,ratings:n,onPageChange:this.handlePageChange,onSort:this.handleSort,addMarker:this.props.addMarker,showAddRestaurantForm:h,handleCloseRestaurant:p,showDetails:this.props.showDetails,showModal:this.props.showModal,hideModal:this.props.hideModal,data:f,setHoverState:v,onMouseLeave:w,setRating:A,hoverState:y,onReviewSubmit:N,addRestaurantOnMap:S,onMapReady:this.props.onMapReady,selectedRestaurant:u,searchLatLntLng:this.searchLatLntLng,reviewButtonControl:E,saveUserHomeLocation:R,handleHomeRestaurants:O,handleFavourite:_}):r.a.createElement(x,null)))}}]),t}(n.Component),Ze=a(132);function $e(){return Ze.results.map((function(e){return{id:e.id,location:{lng:e.location.lng,lat:e.location.lat},name:e.name,photos:e.photos,placeId:e.placeId,rating:e.rating,totalRatings:e.totalRatings,address:e.address,favourite:e.favourite,reviews:e.reviews,website:e.website,customersPhoto:["https://www.vallisweekes.com/img/nocustomerimage.jpg"],openingHours:{open_now:function(){var t=(new Date).getDay(),a=(new Date).getHours()+"00",n=e.opening_hours.periods.map((function(e){return e})).map((function(e){return e.close.day})).filter((function(e){return e===t})).reduce((function(e){return e}));if(t===n)return!(parseInt(a)>2200)}()}}}))}var et={lat:51.593416217497875,lng:-.10362844184942505},tt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).fetchPlaces=function(e,t){var n=a.allRestaurantsLoaded,r=a.addRestaurants,o=JSON.parse(localStorage.getItem("isCached"));if(localStorage.setItem("cachedRestaurantsWithInhouse",JSON.stringify([])),a.setState({saveUserHomeLocation:!0,map:t,mapProps:e}),JSON.stringify(a.state.coordinates)===JSON.stringify(et))if(console.log("caching main..."),o){var s=JSON.parse(localStorage.getItem("selectedRestaurantCache"));console.log("Checking Cache Selected",s);var l=Array.from(JSON.parse(localStorage.getItem("cacheRestaurants"))),i=Array.from(JSON.parse(localStorage.getItem("cachedRestaurantsWithInhouse")));if(console.log("Checking if my local restaurants added",i),i.length>0){console.log("cachining WITH HOME 1.... if block");var c=Array.from($e());localStorage.setItem("selectedRestaurantCache",JSON.stringify(c)),a.setState({restaurants:i})}else console.log("caching 2.... else block"),a.setState({restaurants:l})}else{console.log("feacting......1"),a.setState({map:t,mapProps:e});var m=e.google,d={location:new m.maps.LatLng(a.state.coordinates.lat,a.state.coordinates.lng),radius:"800",type:["restaurant"]};new m.maps.places.PlacesService(t).nearbySearch(d,(function(e,a,o){return f.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:"OK"===a&&(o.hasNextPage?o.nextPage():n(m,t)),r(e);case 2:case"end":return s.stop()}}))}))}else if(a.setState({map:t,mapProps:e}),o){console.log("inside caching 2....."),localStorage.setItem("selectedRestaurantCache",JSON.stringify([]));var u=Array.from(JSON.parse(localStorage.getItem("cacheRestaurants")));a.setState({restaurants:u})}else{console.log("else inside fectching 2.....");var h=e.google,p={location:new h.maps.LatLng(a.state.coordinates.lat,a.state.coordinates.lng),radius:"800",type:["restaurant"]};new h.maps.places.PlacesService(t).nearbySearch(p,(function(e,a,o){"OK"===a&&(o.hasNextPage?o.nextPage():n(h,t)),r(e)}))}},a.allRestaurantsLoaded=function(e,t){return{google:e,map:t}},a.addRestaurants=function(e){var t=e.map((function(e){return{id:e.id,location:{lng:e.geometry.location.lng(),lat:e.geometry.location.lat()},name:e.name,photos:e.photos?e.photos[0].getUrl():"https://www.vallisweekes.com/img/noimage.jpg",placeId:e.place_id,rating:e.rating?Math.ceil(e.rating):0,totalRatings:e.user_ratings_total?e.user_ratings_total:0,address:e.vicinity,favourite:!1}})),n=a.state.restaurants;a.setState({restaurants:[].concat(Object(p.a)(n),Object(p.a)(t)),isCached:!0},(function(){n.length?(localStorage.setItem("cacheRestaurants",JSON.stringify(a.state.restaurants)),localStorage.setItem("isCached",JSON.stringify(!0)),localStorage.setItem("selectedRestaurantCache",JSON.stringify([]))):localStorage.setItem("isCached",JSON.stringify(!1))}))},a.selectedPlaceDetails=function(e,t){var n=a.state,r=n.mapProps,o=n.map,s=r.google,l=a.detailsStorage,i=a.state.restaurants,c=JSON.parse(localStorage.getItem("selectedRestaurantCache")),m=JSON.parse(localStorage.getItem("cachedRestaurantsWithInhouse"));console.log("Checking combined",m);var d=i.filter((function(t){return t.placeId===e}));if(console.log("Filtering Out .. Call 1",d),console.log("What is Cached data",c),c.length>0&&null!==c.length){var u=c.filter((function(e,t){return c.map((function(e){return e.id})).indexOf(e.id)===t}));console.log("Filtered csche results",u);var p=u.filter((function(e){return e.id===t}));if(console.log("Storng Selected Filter data",p),1===p.length){console.log("using cache selected....1");var g=u.filter((function(e){return e.id===t}));a.setState({selectedRestaurant:g,showModal:!0})}else console.log("second fetch...."),f()}else console.log("third fetch..."),f();function f(){var t=new s.maps.places.PlacesService(o),a={placeId:"".concat(e),fields:["opening_hours","reviews","formatted_phone_number","website","photos"]};t.getDetails(a,(function(e,t){if("OK"===t){var a=d.map((function(t){return Object(h.a)({},t,{reviews:Object.assign({},e).reviews,website:Object.assign({},e).website,phoneNumber:Object.assign({},e).formatted_phone_number,customersPhoto:Object.assign({},e).photos.map((function(e){return e.getUrl()})),openingHours:Object.assign({},e).opening_hours})}));l(a)}}))}},a.detailsStorage=function(e){console.log(e);var t=a.state.selectedCacheRestaurant;t.push(e.reduce((function(e){return e}))),console.log("selected Cache data Call 2",t),localStorage.setItem("selectedRestaurantCache",JSON.stringify(t));var n=localStorage.getItem("selectedRestaurantCache"),r=Array.from(JSON.parse(n));a.setState({selectedCacheRestaurant:r,selectedRestaurant:e,showModal:!0}),a.showModal()},a.addReview=function(e,t){console.log("`inside add `review",e),e.reviews.unshift(t),a.setState({selectedCacheRestaurant:[e].concat(Object(p.a)(a.state.selectedCacheRestaurant))}),localStorage.setItem("selectedRestaurantCache",JSON.stringify(a.state.selectedCacheRestaurant))},a.addMarker=function(e,t,n){var r=e.google,o=new r.maps.Marker({placeId:"",name:"",restaurantQuality:"",rating:"rating",position:n.latLng,map:t});console.log("Checking events",r),setTimeout((function(){a.showAddRestaurantForm()}),500),a.getMakerProps(o,e,t);var s=new r.maps.InfoWindow({content:{}});return o.addListener("click",(function(){s.open(t,o)})),o},a.showAddRestaurantForm=function(){a.setState({showAddRestaurantForm:!0})},a.closeAddRestauantForm=function(){a.setState({showAddRestaurantForm:!1})},a.getMakerProps=function(e){a.addRestaurantOnMap=function(t){t.location.lat=e.position.lat(),t.location.lng=e.position.lng(),e.name=t.name,e.rating=t.rating,e.placeId=t.placeId,a.setState({restaurants:[t].concat(Object(p.a)(a.state.restaurants)),showAddRestaurantForm:!1});var n=JSON.parse(localStorage.getItem("selectedRestaurantCache")),r=[t].concat(Object(p.a)(Array.from(n)));localStorage.setItem("selectedRestaurantCache",JSON.stringify(r))}},a.getHomeRestaurants=function(){var e=Array.from($e()),t=a.state.restaurants;if(JSON.parse(localStorage.getItem("cachedRestaurantsWithInhouse"))<=0){var n=t.concat(e);localStorage.setItem("cachedRestaurantsWithInhouse",JSON.stringify(n));var r=localStorage.getItem("cachedRestaurantsWithInhouse"),o=JSON.parse(localStorage.getItem("selectedRestaurantCache")),s=[].concat(Object(p.a)(o),Object(p.a)(e));localStorage.setItem("selectedRestaurantCache",JSON.stringify(s)),a.setState({restaurants:JSON.parse(r)})}else a.setState({restaurants:t})},a.handleFavourite=function(e){var t=Object(p.a)(a.state.restaurants),n=t.indexOf(e);t[n]=Object(h.a)({},t[n]),t[n].favourite=!t[n].favourite,a.setState({restaurants:t,favourites:t.filter((function(e){return!0===e.favourite}))}),t.filter((function(e){return!0===e.favourite}))},a.showModal=function(){a.setState({showModal:!0})},a.hideModal=function(){a.setState({showModal:!1,placeDetails:[]})},a.state={coordinates:{lat:a.props.lat,lng:a.props.lng},saveUserHomeLocation:!1,showPopUp:!1,userHomeLocation:{lat:0,lng:0},myRestaurants:$e(),isMyRestaurantAdded:!1,restaurants:[],reviews:[],reviewLength:"",cacheReviews:[],selectedRestaurant:[],isCached:!1,selectedCacheRestaurant:[],favourites:[],showModal:!1,showForm:!1,loading:!1,mapProps:{},map:{},showAddRestaurantForm:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=JSON.parse(localStorage.getItem("saveUserHomeLocation")),a=JSON.parse(localStorage.getItem("userHomeLocation"));JSON.stringify(this.state.coordinates)!==JSON.stringify(et)||t?this.setState({saveUserHomeLocation:t,userHomeLocation:a}):setTimeout((function(){e.setState({showPopUp:!0})}),4e3),this.handleCLosePopUp=function(){e.setState({showPopUp:!1})}}},{key:"componentDidUpdate",value:function(){var e=this,t=this.searchResults,a=this.state,n=a.mapProps,r=a.map,o=n.google;this.handleSearchLatLng=function(a){e.setState({restaurants:[],coordinates:{lat:a.lat,lng:a.lng}});var n={location:new o.maps.LatLng(a.lat,a.lng),radius:"800",type:["restaurant"]};new o.maps.places.PlacesService(r).nearbySearch(n,(function(e,a,n){"OK"===a&&n.hasNextPage&&n.nextPage();t(e)}))},this.searchResults=function(t){var a=t.map((function(e,t){return{id:e.id,location:{lng:e.geometry.location.lng(),lat:e.geometry.location.lat()},name:e.name,photos:e.photos?e.photos[0].getUrl():"https://www.vallisweekes.com/img/noimage.jpg",placeId:e.place_id,rating:e.rating?Math.ceil(e.rating):0,totalRatings:e.user_ratings_total?e.user_ratings_total:0,address:e.vicinity}}));localStorage.setItem("selectedRestaurantCache",JSON.stringify([]));var n=e.state.restaurants;e.setState({restaurants:[].concat(Object(p.a)(n),Object(p.a)(a))})}}},{key:"render",value:function(){var e=this.state,t=e.restaurants,a=e.coordinates,n=e.selectedRestaurant,o=e.showAddRestaurantForm,s=e.showPopUp,l=e.saveUserHomeLocation,i=e.favourites,c=e.mapProps;return r.a.createElement("div",null,r.a.createElement(y.Map,{google:this.props.google,visible:!1,onReady:this.fetchPlaces,initialCenter:{lat:a.lat,lng:a.lng}}),r.a.createElement(Qe,{selectedRestaurant:n,lat:this.state.coordinates.lat,lng:this.state.coordinates.lng,googleMap:this.props.google,mapProps:c,restaurantResults:t,addMarker:this.addMarker,showDetails:this.selectedPlaceDetails,showModal:this.state.showModal,hideModal:this.hideModal,searchLatLng:this.handleSearchLatLng,showAddRestaurantForm:o,handleCloseRestaurant:this.closeAddRestauantForm,onReviewSubmit:this.addReview,addRestaurantOnMap:this.addRestaurantOnMap,setHomeDefault:this.homeDefault,showPopUp:s,handleCLosePopUp:this.handleCLosePopUp,saveUserHomeLocation:l,handleHomeRestaurants:this.getHomeRestaurants,handleFavourite:this.handleFavourite,favourites:i}))}}]),t}(n.Component),at=Object(y.GoogleApiWrapper)({apiKey:"AIzaSyCcMtA-_NBxt6cD8uefrk6EFlv-2YfXtS0"})(tt),nt=u((function(e){var t=e.lat,a=e.lng;return window.onunload=function(){localStorage.clear()},r.a.createElement(n.Fragment,null,r.a.createElement(at,{lat:t,lng:a}))}));a(314),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(nt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},85:function(e,t,a){}},[[134,1,2]]]);
//# sourceMappingURL=main.ec339e36.chunk.js.map