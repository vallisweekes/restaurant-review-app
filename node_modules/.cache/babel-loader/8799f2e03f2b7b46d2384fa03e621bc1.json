{"ast":null,"code":"var _jsxFileName = \"/Users/sid/sahib/oc/restaurant-review-app/src/Components/AppContainer/index.js\";\nimport React from \"react\";\nimport { Map, GoogleApiWrapper } from \"google-maps-react\";\nimport AppContainer from \"./AppContainer\";\nexport default class Container extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addRestaurants = toAddRestaurants => {\n      const restaurants = this.state.restaurants;\n      this.setState({\n        restaurants: [...restaurants, ...toAddRestaurants]\n      });\n    };\n\n    this.allRestaurantsLoaded = (google, map) => {\n      // SAHIB: Once all restaurants are loaded, we shall get reviews for them (call AllPlaces functinon)\n      const restaurants = this.state.restaurants;\n      const placeIds = restaurants.map(res => {\n        return res.place_id;\n      });\n      this.allPLaces(google, map, placeIds);\n    };\n\n    this.addReviews = (restaurantId, reviews) => {\n      this.setState({\n        reviews: [...this.state.reviews, {\n          restaurantId: reviews\n        }]\n      });\n    };\n\n    this.allPLaces = placeIds => {\n      const addReviews = this.addReviews;\n      placeIds.map((Id, i) => {\n        const request = {\n          placeId: \"\".concat(Id),\n          fields: [\"name\", \"place_id\", \"rating\", \"reviews\", \"formatted_address\"]\n        };\n        setTimeout(() => {\n          const service = new google.maps.places.PlacesService(map);\n          service.getDetails(request, getInfo);\n\n          function getInfo(results, status) {\n            if (status === \"OK\") {\n              addReviews(Id, results);\n            }\n          }\n        }, 1500);\n        return Id;\n      });\n    };\n\n    this.state = {\n      restaurants: [],\n      reviews: []\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          lat = _this$props.lat,\n          lng = _this$props.lng;\n    const restaurants = this.state.restaurants;\n    console.log('restaurants', restaurants);\n    return React.createElement(AppContainer, {\n      lat: lat,\n      lng: lng,\n      addRestaurants: this.addRestaurants,\n      allRestaurantsLoaded: this.allRestaurantsLoaded,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    });\n  }\n\n}","map":{"version":3,"sources":["/Users/sid/sahib/oc/restaurant-review-app/src/Components/AppContainer/index.js"],"names":["React","Map","GoogleApiWrapper","AppContainer","Container","Component","constructor","props","addRestaurants","toAddRestaurants","restaurants","state","setState","allRestaurantsLoaded","google","map","placeIds","res","place_id","allPLaces","addReviews","restaurantId","reviews","Id","i","request","placeId","fields","setTimeout","service","maps","places","PlacesService","getDetails","getInfo","results","status","render","lat","lng","console","log"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,GAAR,EAAaC,gBAAb,QAAqC,mBAArC;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AAGA,eAAe,MAAMC,SAAN,SAAwBJ,KAAK,CAACK,SAA9B,CAAwC;AACrDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SASnBC,cATmB,GASDC,gBAAD,IAAsB;AAAA,YAC7BC,WAD6B,GACb,KAAKC,KADQ,CAC7BD,WAD6B;AAGrC,WAAKE,QAAL,CAAc;AACZF,QAAAA,WAAW,EAAE,CAAC,GAAGA,WAAJ,EAAiB,GAAGD,gBAApB;AADD,OAAd;AAGD,KAfkB;;AAAA,SAiBnBI,oBAjBmB,GAiBI,CAACC,MAAD,EAASC,GAAT,KAAiB;AACtC;AADsC,YAE9BL,WAF8B,GAEd,KAAKC,KAFS,CAE9BD,WAF8B;AAGtC,YAAMM,QAAQ,GAAGN,WAAW,CAACK,GAAZ,CAAgBE,GAAG,IAAI;AACpC,eAAOA,GAAG,CAACC,QAAX;AACD,OAFc,CAAjB;AAIA,WAAKC,SAAL,CAAeL,MAAf,EAAuBC,GAAvB,EAA2BC,QAA3B;AACD,KAzBkB;;AAAA,SA2BnBI,UA3BmB,GA2BN,CAACC,YAAD,EAAeC,OAAf,KAA2B;AAEtC,WAAKV,QAAL,CAAc;AACZU,QAAAA,OAAO,EAAE,CAAC,GAAG,KAAKX,KAAL,CAAWW,OAAf,EAAwB;AAACD,UAAAA,YAAY,EAAEC;AAAf,SAAxB;AADG,OAAd;AAGD,KAhCkB;;AAAA,SAkCnBH,SAlCmB,GAkCNH,QAAD,IAAc;AACxB,YAAMI,UAAU,GAAG,KAAKA,UAAxB;AAEAJ,MAAAA,QAAQ,CAACD,GAAT,CAAa,CAACQ,EAAD,EAAKC,CAAL,KAAW;AACtB,cAAMC,OAAO,GAAG;AACdC,UAAAA,OAAO,YAAKH,EAAL,CADO;AAEdI,UAAAA,MAAM,EAAE,CAAC,MAAD,EAAS,UAAT,EAAqB,QAArB,EAA+B,SAA/B,EAA0C,mBAA1C;AAFM,SAAhB;AAIAC,QAAAA,UAAU,CAAC,MAAM;AACf,gBAAMC,OAAO,GAAG,IAAIf,MAAM,CAACgB,IAAP,CAAYC,MAAZ,CAAmBC,aAAvB,CAAqCjB,GAArC,CAAhB;AACAc,UAAAA,OAAO,CAACI,UAAR,CAAmBR,OAAnB,EAA4BS,OAA5B;;AAEA,mBAASA,OAAT,CAAiBC,OAAjB,EAA0BC,MAA1B,EAAkC;AAChC,gBAAIA,MAAM,KAAK,IAAf,EAAqB;AACnBhB,cAAAA,UAAU,CAACG,EAAD,EAAKY,OAAL,CAAV;AACD;AACF;AACF,SATS,EASP,IATO,CAAV;AAWA,eAAOZ,EAAP;AACD,OAjBD;AAkBD,KAvDkB;;AAGjB,SAAKZ,KAAL,GAAa;AACXD,MAAAA,WAAW,EAAE,EADF;AAEXY,MAAAA,OAAO,EAAE;AAFE,KAAb;AAID;;AAkDDe,EAAAA,MAAM,GAAG;AAAA,wBACc,KAAK9B,KADnB;AAAA,UACC+B,GADD,eACCA,GADD;AAAA,UACMC,GADN,eACMA,GADN;AAAA,UAEC7B,WAFD,GAEiB,KAAKC,KAFtB,CAECD,WAFD;AAIP8B,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2B/B,WAA3B;AAEA,WAAO,oBAAC,YAAD;AACC,MAAA,GAAG,EAAE4B,GADN;AAEC,MAAA,GAAG,EAAEC,GAFN;AAGC,MAAA,cAAc,EAAE,KAAK/B,cAHtB;AAIC,MAAA,oBAAoB,EAAE,KAAKK,oBAJ5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAMD;;AAtEoD","sourcesContent":["import React from \"react\";\nimport {Map, GoogleApiWrapper } from \"google-maps-react\";\nimport AppContainer from \"./AppContainer\";\n\n\nexport default class Container extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      restaurants: [],\n      reviews: []\n    }\n  }\n\n  addRestaurants = (toAddRestaurants) => {\n    const { restaurants } = this.state;\n\n    this.setState({\n      restaurants: [...restaurants, ...toAddRestaurants]\n    });\n  }\n\n  allRestaurantsLoaded = (google, map) => {\n    // SAHIB: Once all restaurants are loaded, we shall get reviews for them (call AllPlaces functinon)\n    const { restaurants } = this.state;\n    const placeIds = restaurants.map(res => {\n        return res.place_id;\n      });\n\n    this.allPLaces(google, map,placeIds);\n  }\n\n  addReviews = (restaurantId, reviews) => {\n\n    this.setState({\n      reviews: [...this.state.reviews, {restaurantId: reviews}]\n    });\n  }\n\n  allPLaces = (placeIds) => {\n    const addReviews = this.addReviews;\n\n    placeIds.map((Id, i) => {\n      const request = {\n        placeId: `${Id}`,\n        fields: [\"name\", \"place_id\", \"rating\", \"reviews\", \"formatted_address\"]\n      };\n      setTimeout(() => {\n        const service = new google.maps.places.PlacesService(map);\n        service.getDetails(request, getInfo);\n\n        function getInfo(results, status) {\n          if (status === \"OK\") {\n            addReviews(Id, results);\n          }\n        }\n      }, 1500);\n\n      return Id;\n    });\n  }\n\n  render() {\n    const { lat, lng } = this.props;\n    const { restaurants } = this.state;\n\n    console.log('restaurants', restaurants);\n\n    return <AppContainer\n            lat={lat}\n            lng={lng} \n            addRestaurants={this.addRestaurants}\n            allRestaurantsLoaded={this.allRestaurantsLoaded}\n      />;\n  }\n\n}\n\n"]},"metadata":{},"sourceType":"module"}